<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel = "icon" href = "logo.png" type = "image/x-icon">
    <link rel="stylesheet" href="style2.css">
  <title>Login Page</title></head>
<body>
    <div class="login-container">
        <div class="login-header">
            <h2>Login</h2>
        </div>
        <form id="login-form">
            <div class="form-group">
                <label for="username">Name</label>
                <input type="text" id="username" name="username" required>
            </div>
            <div class="form-group">
                <label for="username">School</label>
                <input type="text" id="username" name="username" required>
            </div>
            <div class="form-group">
                <label for="username">Scholar Number</label>
                <input type="number" id="username" name="username" required>
            </div>
            <div class="form-group">
                <label for="username">Email</label>
                <input type="email" id="username" name="username" required>
            </div>
            <div class="form-group">
                <div class="inline-group">
                    <label for="class">Class:</label>
                    <select name="class" required>
                        <option value="9th">9th</option>
                        <option value="11th">11th</option>
                        <option value="10th">10th</option>
                        <option value="12th">12th</option>
                    </select>
                </div>
                <div class="inline-group">
                    <label for="section">Section:</label>
                    <select name="section" required>
                        <option value="B">B</option>
                        <option value="C">C</option>
                        <option value="D">D</option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <input type="submit" value="Login">
            </div>
        </form>
    </div>
    
    <script>
        const scriptURL = "https://script.google.com/macros/s/AKfycbyol1ISh_axaR1qhegZHTpBAb__qy9W29YsQPpB4daweArhAwVjuoDsT8nAbw9BcWM3jg/exec";
        const form = document.forms['login-form'];
        
        function doPost(e) {
            var sheet = SpreadsheetApp.openById('AKfycbwcOku1c42WL2qxdH-EZrvs7D9veQfnJuLavpyJS7_SJemGl-MMQndtpllJyiVhWi8itA').getActiveSheet();
          
            // Get the data from the form
            var classData = e.parameter.class;
            var sectionData = e.parameter.section;
          
            // Append the data to the Google Sheet
            sheet.appendRow([classData, sectionData]);
          
            // Return a success message
            return ContentService.createTextOutput('Data added to the Google Sheet.');
        }
        
        form.addEventListener('submit', e => {
            e.preventDefault();
        
            // Get the class and section data from the form
            const classData = form.elements['class'].value;
            const sectionData = form.elements['section'].value;
        
            // Create a FormData object to send all form data
            const formData = new FormData(form);
            formData.append('class', classData); // Add class data
            formData.append('section', sectionData); // Add section data
        
            // Redirect based on class and section
            switch (classData) {
                case '9th':
                    if (sectionData === 'A') {
                        window.location.href = 'c9sA.html'; // Redirect to page 1
                    }
                    break;
                case '9th':
                    if (sectionData === 'B') {
                        window.location.href = 'c9sB.html'; // Redirect to page 2
                    }
                    break;
                case '9th':
                    if (sectionData === 'C') {
                        window.location.href = 'c9sC.html'; // Redirect to page 3
                    }
                    break;
                case '9th':
                    if (sectionData === 'D') {
                        window.location.href = 'c10sD.html'; // Redirect to page 4
                    }
                case '10th':
                    if (sectionData === 'A') {
                        window.location.href = 'c10sA.html'; // Redirect to page 4
                    }
                case '10th':
                    if (sectionData === 'B') {
                        window.location.href = 'c10sB.html'; // Redirect to page 4
                    }
                case '10th':
                    if (sectionData === 'C') {
                        window.location.href = 'c10sC.html'; // Redirect to page 4
                    }
                case '10th':
                    if (sectionData === 'D') {
                        window.location.href = 'c11sD.html'; // Redirect to page 4
                    }
                case '11th':
                    if (sectionData === 'A') {
                        window.location.href = 'c11sA.html'; // Redirect to page 4
                    }
                case '11th':
                    if (sectionData === 'B') {
                        window.location.href = 'c11sB.html'; // Redirect to page 4
                    }
                case '11th':
                    if (sectionData === 'C') {
                        window.location.href = 'c11sC.html'; // Redirect to page 4
                    }
                case '11th':
                    if (sectionData === 'D') {
                        window.location.href = 'c11sD.html'; // Redirect to page 4
                    }
                    case '12th':
                    if (sectionData === 'A') {
                        window.location.href = 'c12sA.html'; // Redirect to page 4
                    }
                case '12th':
                    if (sectionData === 'B') {
                        window.location.href = 'c12sB.html'; // Redirect to page 4
                    }
                case '12th':
                    if (sectionData === 'C') {
                        window.location.href = 'c12sC.html'; // Redirect to page 4
                    }
                case '12th':
                    if (sectionData === 'D') {
                        window.location.href = 'c12sD.html'; // Redirect to page 4
                    }
                    break;
                default:
                    // Handle other cases or show an error message
                    alert('Invalid selection');
            }
        
            // Send the form data to Google Sheets
            fetch(scriptURL, { method: 'POST', body: formData })
                .then(response => alert('Success!', response))
                .catch(error => alert('Error!', error.message));
        });
    </script>
        </body>
</html>
