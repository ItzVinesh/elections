<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="logo.png" type="image/x-icon">
    <link rel="stylesheet" href="style2.css">
    <title>Voting Page</title>
</head>
<body>
<div class="box" id="top">
    <h1>Medi-Caps International School</h1>
</div>
<center>
    <h1>Teacher Rating</h1>
</center>
<form id="login-form" name="login-form" action="https://script.google.com/macros/s/AKfycbyol1ISh_axaR1qhegZHTpBAb__qy9W29YsQPpB4daweArhAwVjuoDsT8nAbw9BcWM3jg/exec" method="post"> <!-- Replace with your actual script URL -->
    <div id="votingContainer">
        <div id="optionsContainer">
            <div class="box-wrapper">
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div class="box" id="box1">
                    <h3 class="heading-wrapper">

                        <!-- First Box -->
                        <span class="text1">XYZ</span>
                    </h3>
                    <h2>&nbsp;&nbsp; Behavior <span class="emoji-button" onclick="vote(this)" id="1">&#x1F600;</span> <span class="emoji-button" id="2" onclick="vote(this)">&#128578; </span><span class="emoji-button" onclick="vote(this)" id="3">&#128532;</span> <span class="emoji-button" id="4" onclick="vote(this)">&#128544;</span></h2>
                    <h2>&nbsp;&nbsp; Teaching <span class="emoji-button" onclick="vote(this)" id="1">&#x1F600;</span> <span class="emoji-button" id="2" onclick="vote(this)">&#128578; &nbsp;</span><span class="emoji-button" onclick="vote(this)" id="3">&#128532;</span> <span class="emoji-button" id="4" onclick="vote(this)">&#128544;</span></h2>
                    <h2>&nbsp;&nbsp; Working <span class="emoji-button" onclick="vote(this)" id="1">&#x1F600;</span> <span class="emoji-button" id="2" onclick="vote(this)">&#128578; &nbsp;</span><span class="emoji-button" onclick="vote(this)" id="3">&#128532;</span> <span class="emoji-button" id="4" onclick="vote(this)">&#128544;</span></h2>
                    <div class="textbox-container ">                        <div class="word-count">0 / 100</div>
                        <textarea class="word-limit-textarea" rows="6" cols="50" maxlength="500" name="field1" required></textarea> <!-- Use "field1" as the name for the first field -->
                    </div>
                </div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

                
                    <center><br><br>
                        <button type="submit" onclick="submitVote()">Submit</button>
                    </center>
                </div>
            </div>
        </div>
    </div>
</form>
</center>
</div>
<div class="box" id="btm1">
    <center>
        <h1>Developed by Vinesh Katara of X-C</h1>
    </center>
</div>
<script>
    // JavaScript code to handle emoji button clicks
    function vote(emoji) {
        const buttons = emoji.parentElement.querySelectorAll('.emoji-button');
        const row = emoji.closest('.box-wrapper');
        
        buttons.forEach(button => button.classList.remove('clicked'));
        emoji.classList.add('clicked');
    }

    // Function to submit the vote
    function submitVote() {
        const totalEmojiButtons = document.querySelectorAll('.emoji-button').length;
        const selectedEmojis = document.querySelectorAll('.emoji-button.clicked');

        if (selectedEmojis.length === 3) {
            // You can process the selected emojis here
            window.location.href = 'thank.html';
        } else {
            alert('Please select an emoji for each category.');
        }
    }

    // Get all textarea elements with the class "word-limit-textarea"
    const textareas = document.querySelectorAll('.word-limit-textarea');

    // Add an input event listener to each textarea
    textareas.forEach(textarea => {
        const wordCountDisplay = textarea.previousElementSibling; // Get the word count display element

        textarea.addEventListener('input', function () {
            // Get the current text from the textarea
            const text = this.value;

            // Split the text into words (split by spaces)
            const words = text.trim().split(/\s+/);

            // Count the number of words
            const wordCount = words.length;

            // Update the word count display
            wordCountDisplay.textContent = `${wordCount} / 1000`;

            // Disable the textarea if the word limit is exceeded
            if (wordCount > 100) {
                textarea.value = text.split(/\s+/).slice(0, 100).join(' ');
                wordCountDisplay.style.color = 'red';
                textarea.style.borderColor = 'red';
                textarea.disabled = true;
            } else {
                wordCountDisplay.style.color = 'gray';
                textarea.style.borderColor = '';
                textarea.disabled = false;
            }
        });
    });
</script>
</body>
</html>
